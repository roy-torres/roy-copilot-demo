<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Mobile Copilot Sketch</title>
  <style>
    /* Reset & basics */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body, html { height: 100%; font-family: sans-serif; }
    body { display: flex; flex-direction: column; }

    /* Header */
    .header {
      background: #0072c3;
      color: #fff;
      padding: 10px;
      display: flex;
      justify-content: space-around;
      font-size: 0.9rem;
    }

    /* Main view */
    .view {
      flex: 1;
      position: relative;
      overflow: hidden;
    }
    .chat-view, .history-view {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      display: flex; flex-direction: column;
      background: #f7f7f7;
      transition: transform .3s ease;
    }
    .history-view { transform: translateX(100%); }

    /* Chat messages */
    #chatLog {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
    }
    .message {
      max-width: 70%;
      margin: 5px 0;
      padding: 8px;
      border-radius: 8px;
      line-height: 1.3;
    }
    .user { background: #0072c3; color: #fff; align-self: flex-end; }
    .ai   { background: #e1e1e1; color: #333; align-self: flex-start; }

    /* Quick-actions */
    .quick-actions {
      display: flex;
      padding: 6px;
      background: #fff;
      border-top: 1px solid #ddd;
      gap: 6px;
      overflow-x: auto;
    }
    .quick-actions button {
      flex: none;
      padding: 6px 12px;
      border: 1px solid #0072c3;
      background: #fff;
      color: #0072c3;
      border-radius: 4px;
      font-size: 0.9rem;
    }

    /* Chat input */
    .chat-input {
      display: flex;
      border-top: 1px solid #ddd;
      background: #fff;
    }
    .chat-input input {
      flex: 1;
      padding: 10px;
      border: none;
      font-size: 1rem;
    }
    .chat-input button {
      padding: 0 16px;
      background: #0072c3;
      color: #fff;
      border: none;
      font-size: 1rem;
    }

    /* Footer nav */
    .footer-nav {
      display: flex;
      justify-content: space-around;
      background: #fff;
      border-top: 1px solid #ddd;
    }
    .footer-nav button {
      flex: 1;
      padding: 10px;
      background: none;
      border: none;
      font-size: 1rem;
      color: #0072c3;
    }

    /* Promptbooks drawer */
    .drawer {
      position: absolute;
      bottom: 0; left: 0; right: 0;
      max-height: 60%;
      background: #fff;
      border-top-left-radius: 12px;
      border-top-right-radius: 12px;
      box-shadow: 0 -2px 8px rgba(0,0,0,0.2);
      transform: translateY(100%);
      transition: transform .3s ease;
      padding: 12px;
      overflow-y: auto;
      z-index: 10;
    }
    .drawer.open { transform: translateY(0); }
    .drawer h4 { margin-bottom: 8px; }
    .drawer .promptbook {
      padding: 8px;
      border: 1px solid #0072c3;
      border-radius: 6px;
      margin-bottom: 6px;
      cursor: pointer;
      color: #0072c3;
    }
  </style>
</head>
<body>

  <!-- Header with real-time metrics -->
  <div class="header">
    <span>Match Confidence: 82%</span>
    <span>Available Trainers: 3</span>
    <span>Pending Leads: 5</span>
  </div>

  <!-- Main view container -->
  <div class="view">

    <!-- Chat view -->
    <section class="chat-view">
      <div id="chatLog"></div>
      <div class="quick-actions">
        <button data-action="override">Override AI Suggestion</button>
        <button data-action="new-match">Request New Match</button>
        <button data-action="feedback">Provide Feedback</button>
      </div>
      <div class="chat-input">
        <input type="text" id="chatInput" placeholder="Ask your Copilot...">
        <button id="sendBtn">Send</button>
      </div>
    </section>

    <!-- History view -->
    <section class="history-view">
      <div style="padding:12px;">
        <h4>Past Sessions</h4>
        <ul id="historyList"></ul>
      </div>
    </section>

    <!-- Promptbooks drawer -->
    <div class="drawer" id="promptDrawer">
      <h4>Promptbooks</h4>
      <div class="promptbook" data-prompt="Override a match">Override a match</div>
      <div class="promptbook" data-prompt="Build Value Matrix">Build Value Matrix</div>
      <div class="promptbook" data-prompt="Review high-prop leads">Review high-prop leads</div>
    </div>

  </div>

  <!-- Footer nav -->
  <div class="footer-nav">
    <button id="tabChat">Chat</button>
    <button id="tabHistory">History</button>
    <button id="tabPrompt">Promptbooks</button>
  </div>

  <script>
    // References
    const chatLog       = document.getElementById('chatLog');
    const chatInput     = document.getElementById('chatInput');
    const sendBtn       = document.getElementById('sendBtn');
    const historyView   = document.querySelector('.history-view');
    const chatView      = document.querySelector('.chat-view');
    const historyList   = document.getElementById('historyList');
    const drawer        = document.getElementById('promptDrawer');
    const tabChat       = document.getElementById('tabChat');
    const tabHistory    = document.getElementById('tabHistory');
    const tabPrompt     = document.getElementById('tabPrompt');
    const promptbooks   = document.querySelectorAll('.promptbook');
    let historySessions = [];

    // Utility: append message
    function appendMessage(text, who='ai') {
      const msg = document.createElement('div');
      msg.className = 'message ' + who;
      msg.textContent = text;
      chatLog.appendChild(msg);
      chatLog.scrollTop = chatLog.scrollHeight;
    }

    // Simulated AI response
    function getAIResponse(userText) {
      // placeholder
      return "ðŸ¤– Copilot: I heard you say \"" + userText + "\"";
    }

    // Send button handler
    sendBtn.addEventListener('click', () => {
      const userText = chatInput.value.trim();
      if (!userText) return;
      appendMessage(userText, 'user');
      chatInput.value = '';
      const aiText = getAIResponse(userText);
      setTimeout(() => appendMessage(aiText, 'ai'), 300);
    });

    // Footer nav tabs
    tabChat.addEventListener('click', () => {
      chatView.style.transform    = 'translateX(0)';
      historyView.style.transform = 'translateX(100%)';
      drawer.classList.remove('open');
    });
    tabHistory.addEventListener('click', () => {
      chatView.style.transform    = 'translateX(-100%)';
      historyView.style.transform = 'translateX(0)';
      drawer.classList.remove('open');
    });
    tabPrompt.addEventListener('click', () => {
      drawer.classList.toggle('open');
    });

    // Quick-actions (placeholder stubs)
    document.querySelectorAll('.quick-actions button').forEach(btn => {
      btn.addEventListener('click', () => {
        const key = btn.dataset.action;
        appendMessage("Action triggered: " + key, 'user');
        setTimeout(() => appendMessage("âœ… Executed " + key, 'ai'), 300);
      });
    });

    // Promptbooks clicks
    promptbooks.forEach(card => {
      card.addEventListener('click', () => {
        const prompt = card.dataset.prompt;
        drawer.classList.remove('open');
        appendMessage(prompt, 'user');
        setTimeout(() => appendMessage("ðŸ”§ Running promptbook: " + prompt, 'ai'), 300);
        // Save session
        historySessions.push({ date: new Date(), title: prompt });
        renderHistory();
      });
    });

    // Render history list
    function renderHistory() {
      historyList.innerHTML = '';
      historySessions.slice(-10).reverse().forEach((s, i) => {
        const li = document.createElement('li');
        li.textContent = `${s.date.toLocaleString()}: ${s.title}`;
        historyList.appendChild(li);
      });
    }

    // Initialize with a greeting
    appendMessage("Welcome to your AI Copilot! How can I help you today?");
  </script>
</body>
</html>